<!doctype html>

<html>
  <head>
    <meta charset='utf-8' />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <title>test - phina.js</title>
  </head>
  <body>
    <canvas id='world'></canvas>
    <button class='btn-standalone' onclick='openStandalone();'>View</button>
  </body>
</html>

<style>
  .btn-standalone {
    position: absolute;
    top: 10px;
    right: 260px;
    border: none;
    padding: 5px 10px;
  }
</style>

<script src='../testhelper.js'></script>

<script>

window.openStandalone = function() {
  var w = window.open(location.href);
};

// phina の scirpt をロード
th.load('../../src/config.json', function(d) {
  var files = [];
  d.files.forEach(function(file) {
    var file = '../../src/' + file;
    files.push(file);
  });

  // test の scripts をロード
  th.load('../config.json', function(d) {
    d.files.forEach(function(file) {
      var file = '../' + file;
      files.push(file);
    });

    th.loadScripts(files, function() {
      var query = location.search.substr(1);
      th.run(query);
    });
  });
});

</script>
